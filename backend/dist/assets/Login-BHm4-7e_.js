import{r as i,u as x,_ as u,j as e,L as h}from"./index-BAY2KkQs.js";import{a as p}from"./axios-Bo0ATomq.js";const m=()=>{const[t,a]=i.useState(!1),{setAuthUser:r}=x();return{loading:t,login:async(n,l)=>{if(g(n,l)){a(!0);try{const o=(await p.post("/api/auth/login",{username:n,password:l})).data;if(o.error)throw new Error(o.error);localStorage.setItem("chat-user",JSON.stringify(o)),r(o)}catch(s){u.error(s.message)}finally{a(!1)}}}}};function g(t,a){return!t||!a?(u.error("Please fill in all fields"),!1):!0}const j=()=>{const[t,a]=i.useState(""),[r,c]=i.useState(""),{loading:n,login:l}=m(),d=async s=>{s.preventDefault(),await l(t,r)};return e.jsx("div",{className:"flex flex-col items-center justify-center min-w-96 mx-auto",children:e.jsxs("div",{className:"w-full p-6 rounded-lg shadow-md bg-gray-400 bg-clip-padding backdrop-filter backdrop-blur-lg bg-opacity-0",children:[e.jsxs("h1",{className:"text-3xl font-semibold text-center text-gray-300",children:["Login",e.jsx("span",{className:"text-blue-500",children:" ChatApp"})]}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{children:[e.jsx("label",{className:"label p-2",children:e.jsx("span",{className:"text-white  label-text",children:"Username"})}),e.jsx("input",{type:"text",placeholder:"Enter username",className:"w-full input input-bordered h-10",value:t,onChange:s=>a(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"text-white  label-text",children:"Password"})}),e.jsx("input",{type:"password",placeholder:"Enter Password",className:"w-full input input-bordered h-10",value:r,onChange:s=>c(s.target.value)})]}),e.jsxs(h,{to:"/signup",className:"text-sm  text-white hover:underline hover:text-blue-600 mt-2 inline-block",children:["Don't"," have an account?"]}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-block btn-sm mt-2",disabled:n,children:n?e.jsx("span",{className:"loading loading-spinner "}):"Login"})})]})]})})};export{j as default};
