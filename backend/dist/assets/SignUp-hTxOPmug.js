import{j as e,r as c,u as f,_ as m,L as j}from"./index-BAY2KkQs.js";import{a as N}from"./axios-Bo0ATomq.js";const w=({onCheckboxChange:t,selectedGender:s})=>e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:`label gap-2 cursor-pointer ${s==="male"?"selected":""} `,children:[e.jsx("span",{className:"text-white  label-text",children:"Male"}),e.jsx("input",{type:"checkbox",className:"checkbox border-blue-900",checked:s==="male",onChange:()=>t("male")})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:`label gap-2 cursor-pointer  ${s==="female"?"selected":""}`,children:[e.jsx("span",{className:"text-white  label-text",children:"Female"}),e.jsx("input",{type:"checkbox",className:"checkbox border-blue-900",checked:s==="female",onChange:()=>t("female")})]})})]}),v=()=>{const[t,s]=c.useState(!1),{setAuthUser:l}=f();return{loading:t,signup:async(r,h,i,x,d)=>{if(y(r,h,i,x,d)){s(!0);try{const n=(await N.post("api/auth/signup",{fullName:r,username:h,password:i,confirmPassword:x,gender:d})).data;if(n.error)throw new Error(n.error);console.log(n),localStorage.setItem("chat-user",JSON.stringify(n)),l(n)}catch(u){m.error(u.message)}finally{s(!1)}}}}};function y(t,s,l,o,r){return!t||!s||!l||!o||!r?(m.error("Please fill in all fields"),!1):l!==o?(m.error("Passwords do not match"),!1):l.length<6?(m.error("Password must be at least 6 characters"),!1):!0}const k=()=>{const[t,s]=c.useState(""),[l,o]=c.useState(""),[r,h]=c.useState(""),[i,x]=c.useState(""),[d,p]=c.useState(""),{loading:u,signup:n}=v(),b=a=>{p(a)},g=async a=>{a.preventDefault(),await n(t,l,r,i,d)};return e.jsx("div",{className:"flex flex-col items-center justify-center min-w-96 mx-auto",children:e.jsxs("div",{className:"w-full p-6 rounded-lg shadow-md bg-gray-400 bg-clip-padding backdrop-filter backdrop-blur-lg bg-opacity-0",children:[e.jsxs("h1",{className:"text-3xl font-semibold text-center text-gray-300",children:["Sign Up ",e.jsx("span",{className:"text-blue-500",children:" ChatApp"})]}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{children:[e.jsx("label",{className:"label p-2",children:e.jsx("span",{className:"text-white label-text",children:"Full Name"})}),e.jsx("input",{type:"text",placeholder:"Enter Your Full Name",className:"w-full input input-bordered  h-10",value:t,onChange:a=>s(a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label p-2 ",children:e.jsx("span",{className:"text-white  label-text",children:"Username"})}),e.jsx("input",{type:"text",placeholder:"Username",className:"w-full input input-bordered h-10",value:l,onChange:a=>o(a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"text-white  label-text",children:"Password"})}),e.jsx("input",{type:"password",placeholder:"Enter Password",className:"w-full input input-bordered h-10",value:r,onChange:a=>h(a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"text-white  label-text",children:"Confirm Password"})}),e.jsx("input",{type:"password",placeholder:"Confirm Password",className:"w-full input input-bordered h-10",value:i,onChange:a=>x(a.target.value)})]}),e.jsx(w,{onCheckboxChange:b,selectedGender:d}),e.jsx(j,{to:"/login",className:"text-sm hover:underline hover:text-blue-600 text-white  mt-2 inline-block",href:"#",children:"Already have an account?"}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-block btn-sm mt-2 border border-slate-700",disabled:u,children:u?e.jsx("span",{className:"loading loading-spinner"}):"Sign Up"})})]})]})})};export{k as default};
